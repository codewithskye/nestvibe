<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chat with NestVibe</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <script defer src="script.js"></script>
  <style>
    .chat-fullscreen {
        display: flex;
        flex-direction: column;
        height: 100vh;
        background: var(--card-bg);
    }

    .chat-header {
        background: var(--gradient);
        color: white;
        padding: 1em;
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 1.2em;
    }

    .chat-time-greeting {
        padding: 0.5em 1em;
        color: var(--text-color);
        text-align: center;
        font-size: 1em;
        background: var(--background);
        opacity: 0.8;
    }

    .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 1em;
        display: flex;
        flex-direction: column;
        gap: 1em;
    }

    .chat-input-container {
        display: flex;
        padding: 1em;
        border-top: 1px solid #eee;
        gap: 0.5em;
    }

    .chat-input-container input {
        flex: 1;
        padding: 0.8em;
        border-radius: 20px;
        border: 1px solid #ccc;
        outline: none;
    }

    .chat-input-container button {
        background: var(--gradient);
        border: none;
        color: white;
        padding: 0.8em 1em;
        border-radius: 50%;
        font-size: 1.2em;
        cursor: pointer;
        transition: transform 0.2s ease;
    }

    .chat-input-container button:hover {
        transform: scale(1.1);
    }

    .close-btn {
        background: none;
        border: none;
        color: white;
        font-size: 1.5em;
        cursor: pointer;
        padding: 0.2em;
        border-radius: 50%;
        transition: background 0.3s ease;
    }

    .close-btn:hover {
        background: rgba(255, 255, 255, 0.2);
    }
  </style>
</head>
<body class="dark-mode">

  <div class="chat-fullscreen">
    <div class="chat-header">
      <span>NestVibe Assistant</span>
      <button class="close-btn" onclick="window.history.back()">
        <i class='bx bx-x'></i>
      </button>
    </div>

    <div id="chat-time-greeting" class="chat-time-greeting"></div>

    <div class="chat-messages" id="chat-messages">
      <div class="message bot-message">
        <p>Hello! Welcome to NestVibe Realty. How can I help you find your perfect home today?</p>
      </div>
    </div>

    <div class="chat-input-container">
      <input type="text" id="chat-input" placeholder="Type your message..." />
      <button id="send-message" aria-label="Send message">
        <i class='bx bx-send'></i>
      </button>
    </div>
  </div>

  <script>
    function showTimeGreeting() {
        const greetingEl = document.getElementById('chat-time-greeting');
        
        // Get current hour in WAT (Africa/Lagos, UTC+1) for greeting logic
        const hour = new Date().toLocaleString('en-US', { 
            hour: 'numeric', 
            hour12: false, 
            timeZone: 'Africa/Lagos' 
        });
        
        // Get formatted time and date in WAT
        const timeDate = new Date().toLocaleString('en-US', { 
            hour: 'numeric', 
            minute: '2-digit', 
            hour12: true, 
            weekday: 'long', 
            month: 'long', 
            day: 'numeric', 
            year: 'numeric', 
            timeZone: 'Africa/Lagos' 
        });
        
        let greeting = "Hello";
        
        // Convert hour to number for comparison
        const hourNum = parseInt(hour);
        
        // Adjusted greeting logic to include midnight to 11:59 AM as morning
        if (hourNum >= 0 && hourNum < 12) {
            greeting = "Good morning!";
        } else if (hourNum >= 12 && hourNum < 17) {
            greeting = "Good afternoon!";
        } else {
            greeting = "Good evening!";
        }
        
        // Display greeting with time and date
        greetingEl.textContent = `${greeting} It's ${timeDate} ðŸ‘‹`;
    }
    
    document.addEventListener('DOMContentLoaded', showTimeGreeting);
    </script>
<script src="script2.js"></script>
</body>
</html>
